{"version":3,"sources":["md5.js","app.js","component.js","config.js","directive.js","filter.js","router.js","modules/tabs.js","modules/detail/good.js","modules/guide/guide.js","modules/login/login.js","modules/public/web.js","modules/tabs/tab-buy.js","modules/tabs/tab-destination.js","modules/tabs/tab-home.js","modules/tabs/tab-me.js"],"names":["MD5","instring","hex_md5","s","rstr2hex","rstr_md5","str2rstr_utf8","binl2rstr","binl_md5","rstr2binl","length","input","x","hex_tab","hexcase","output","i","charCodeAt","charAt","y","String","fromCharCode","Array","len","a","b","c","d","olda","oldb","oldc","oldd","md5_ff","md5_gg","md5_hh","md5_ii","safe_add","md5_cmn","q","t","bit_rol","lsw","num","cnt","angular","module","run","$ionicPlatform","ready","setTimeout","navigator","splashscreen","hide","window","cordova","plugins","Keyboard","hideKeyboardAccessoryBar","disableScroll","StatusBar","styleLightContent","backgroundColorByHexString","config","$ionicConfigProvider","platform","ios","tabs","style","position","android","navBar","alignTitle","views","transition","backButton","previousTitleText","text","constant","template","RefreshComponent","_ref","_ref$scope","scope","undefined","_ref$path","path","_ref$current","current","_ref$offset","offset","_ref$hasInfinite","hasInfinite","_ref$data","data","_ref$reset","reset","_ref$loadData","loadData","_classCallCheck","this","showInfinite","_this","_","$broadcast","_this2","Config","_ref$host","host","_ref$port","port","_ref$ssl","ssl","_ref$activityPoster","activityPoster","protocol","serverUrl","title","image","url","directive","$rootScope","restrict","link","element","attributes","$on","$watch","hideTabs","value","filter","imageUrl","replace","avatarUrl","reg","test","str","dateStr","index","date","Date","setDate","getDate","week","getDay","weekStr","getFullYear","getMonth","$stateProvider","$urlRouterProvider","state","templateUrl","controller","abstract","tab-home","tab-destination","tab-buy","tab-me","otherwise","localStorage","$scope","$ionicTabsDelegate","$ionicModal","$http","$cordovaToast","loginCheck","userInfo","getItem","JSON","parse","isLogin","accessTokenCheck","access_token","phone","post","then","resData","code","showShortBottom","catch","viewConfig","tab.home","tab","navStyle","tab.good-detail","tab.home-web","tab.destination","tab.destination-web","tab.buy","tab.buy-web","tab.me","tab.me-web","e","stateName","showBar","$bar","$","css","fromTemplateUrl","modal","loginModal","show","isBroadcast","$stateParams","$ionicLoading","setAlpha","alpha","navOpacity","innerHeight","topImageSize","transform","document","querySelector","translateY","Number","split","absTranslateY","Math","abs","toFixed","DetailView","_ref$id","id","detail","method","params","detailData","showShortCenter","$state","$timeout","slideStatus","delay","changeBC","$index","go","out","isRegister","toLogin","toRegister","$interval","openCountdown","vCodeTime","timer","closeCountdown","cancel","vCodeBtnDis","loginResult","setItem","stringify","$emit","console","log","msg","getVCode","registerData","r","loginSubmit","preventDefault","loginForm","$invalid","loginData","password","registerSubmit","registerForm","confirm","$sce","getElementById","onload","targetUrl","trustAsResourceUrl","spriteHeight","width","market","marketData","$ionicSlideBoxDelegate","HomeTab","defaultIndex","arguments","activeItem","_createClass","key","slide","homeTab","good","items","concat","banner","service","openLogin","logout","removeItem"],"mappings":"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","file":"ionic.app.min.js","sourcesContent":["/**\n *js md5加密代码\n */\n\nfunction MD5(instring) {\n\tvar hexcase = 0; /* hex output format. 0 - lowercase; 1 - uppercase        */\n\tvar b64pad = \"\"; /* base-64 pad character. \"=\" for strict RFC compliance   */\n\n\t/*\n\t * These are the functions you'll usually want to call\n\t * They take string arguments and return either hex or base-64 encoded strings\n\t */\n\tfunction hex_md5(s) {\n\t\treturn rstr2hex(rstr_md5(str2rstr_utf8(s)));\n\t}\n\n\tfunction b64_md5(s) {\n\t\treturn rstr2b64(rstr_md5(str2rstr_utf8(s)));\n\t}\n\n\tfunction any_md5(s, e) {\n\t\treturn rstr2any(rstr_md5(str2rstr_utf8(s)), e);\n\t}\n\n\tfunction hex_hmac_md5(k, d) {\n\t\treturn rstr2hex(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)));\n\t}\n\n\tfunction b64_hmac_md5(k, d) {\n\t\treturn rstr2b64(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)));\n\t}\n\n\tfunction any_hmac_md5(k, d, e) {\n\t\treturn rstr2any(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)), e);\n\t}\n\n\t/*\n\t * Perform a simple self-test to see if the VM is working\n\t */\n\tfunction md5_vm_test() {\n\t\treturn hex_md5(\"abc\").toLowerCase() == \"900150983cd24fb0d6963f7d28e17f72\";\n\t}\n\n\t/*\n\t * Calculate the MD5 of a raw string\n\t */\n\tfunction rstr_md5(s) {\n\t\treturn binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n\t}\n\n\t/*\n\t * Calculate the HMAC-MD5, of a key and some data (raw strings)\n\t */\n\tfunction rstr_hmac_md5(key, data) {\n\t\tvar bkey = rstr2binl(key);\n\t\tif (bkey.length > 16) bkey = binl_md5(bkey, key.length * 8);\n\n\t\tvar ipad = Array(16),\n\t\t\topad = Array(16);\n\t\tfor (var i = 0; i < 16; i++) {\n\t\t\tipad[i] = bkey[i] ^ 0x36363636;\n\t\t\topad[i] = bkey[i] ^ 0x5C5C5C5C;\n\t\t}\n\n\t\tvar hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n\t\treturn binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n\t}\n\n\t/*\n\t * Convert a raw string to a hex string\n\t */\n\tfunction rstr2hex(input) {\n\t\ttry {\n\t\t\thexcase\n\t\t} catch (e) {\n\t\t\thexcase = 0;\n\t\t}\n\t\tvar hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n\t\tvar output = \"\";\n\t\tvar x;\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tx = input.charCodeAt(i);\n\t\t\toutput += hex_tab.charAt((x >>> 4) & 0x0F) +\n\t\t\t\thex_tab.charAt(x & 0x0F);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*\n\t * Convert a raw string to a base-64 string\n\t */\n\tfunction rstr2b64(input) {\n\t\ttry {\n\t\t\tb64pad\n\t\t} catch (e) {\n\t\t\tb64pad = '';\n\t\t}\n\t\tvar tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\t\tvar output = \"\";\n\t\tvar len = input.length;\n\t\tfor (var i = 0; i < len; i += 3) {\n\t\t\tvar triplet = (input.charCodeAt(i) << 16) |\n\t\t\t\t(i + 1 < len ? input.charCodeAt(i + 1) << 8 : 0) |\n\t\t\t\t(i + 2 < len ? input.charCodeAt(i + 2) : 0);\n\t\t\tfor (var j = 0; j < 4; j++) {\n\t\t\t\tif (i * 8 + j * 6 > input.length * 8) output += b64pad;\n\t\t\t\telse output += tab.charAt((triplet >>> 6 * (3 - j)) & 0x3F);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*\n\t * Convert a raw string to an arbitrary string encoding\n\t */\n\tfunction rstr2any(input, encoding) {\n\t\tvar divisor = encoding.length;\n\t\tvar i, j, q, x, quotient;\n\n\t\t/* Convert to an array of 16-bit big-endian values, forming the dividend */\n\t\tvar dividend = Array(Math.ceil(input.length / 2));\n\t\tfor (i = 0; i < dividend.length; i++) {\n\t\t\tdividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n\t\t}\n\n\t\t/*\n\t\t * Repeatedly perform a long division. The binary array forms the dividend,\n\t\t * the length of the encoding is the divisor. Once computed, the quotient\n\t\t * forms the dividend for the next step. All remainders are stored for later\n\t\t * use.\n\t\t */\n\t\tvar full_length = Math.ceil(input.length * 8 /\n\t\t\t(Math.log(encoding.length) / Math.log(2)));\n\t\tvar remainders = Array(full_length);\n\t\tfor (j = 0; j < full_length; j++) {\n\t\t\tquotient = Array();\n\t\t\tx = 0;\n\t\t\tfor (i = 0; i < dividend.length; i++) {\n\t\t\t\tx = (x << 16) + dividend[i];\n\t\t\t\tq = Math.floor(x / divisor);\n\t\t\t\tx -= q * divisor;\n\t\t\t\tif (quotient.length > 0 || q > 0)\n\t\t\t\t\tquotient[quotient.length] = q;\n\t\t\t}\n\t\t\tremainders[j] = x;\n\t\t\tdividend = quotient;\n\t\t}\n\n\t\t/* Convert the remainders to the output string */\n\t\tvar output = \"\";\n\t\tfor (i = remainders.length - 1; i >= 0; i--)\n\t\t\toutput += encoding.charAt(remainders[i]);\n\n\t\treturn output;\n\t}\n\n\t/*\n\t * Encode a string as utf-8.\n\t * For efficiency, this assumes the input is valid utf-16.\n\t */\n\tfunction str2rstr_utf8(input) {\n\t\tvar output = \"\";\n\t\tvar i = -1;\n\t\tvar x, y;\n\n\t\twhile (++i < input.length) {\n\t\t\t/* Decode utf-16 surrogate pairs */\n\t\t\tx = input.charCodeAt(i);\n\t\t\ty = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n\t\t\tif (0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF) {\n\t\t\t\tx = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\t/* Encode output as utf-8 */\n\t\t\tif (x <= 0x7F)\n\t\t\t\toutput += String.fromCharCode(x);\n\t\t\telse if (x <= 0x7FF)\n\t\t\t\toutput += String.fromCharCode(0xC0 | ((x >>> 6) & 0x1F),\n\t\t\t\t\t0x80 | (x & 0x3F));\n\t\t\telse if (x <= 0xFFFF)\n\t\t\t\toutput += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n\t\t\t\t\t0x80 | ((x >>> 6) & 0x3F),\n\t\t\t\t\t0x80 | (x & 0x3F));\n\t\t\telse if (x <= 0x1FFFFF)\n\t\t\t\toutput += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n\t\t\t\t\t0x80 | ((x >>> 12) & 0x3F),\n\t\t\t\t\t0x80 | ((x >>> 6) & 0x3F),\n\t\t\t\t\t0x80 | (x & 0x3F));\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*\n\t * Encode a string as utf-16\n\t */\n\tfunction str2rstr_utf16le(input) {\n\t\tvar output = \"\";\n\t\tfor (var i = 0; i < input.length; i++)\n\t\t\toutput += String.fromCharCode(input.charCodeAt(i) & 0xFF,\n\t\t\t\t(input.charCodeAt(i) >>> 8) & 0xFF);\n\t\treturn output;\n\t}\n\n\tfunction str2rstr_utf16be(input) {\n\t\tvar output = \"\";\n\t\tfor (var i = 0; i < input.length; i++)\n\t\t\toutput += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n\t\t\t\tinput.charCodeAt(i) & 0xFF);\n\t\treturn output;\n\t}\n\n\t/*\n\t * Convert a raw string to an array of little-endian words\n\t * Characters >255 have their high-byte silently ignored.\n\t */\n\tfunction rstr2binl(input) {\n\t\tvar output = Array(input.length >> 2);\n\t\tfor (var i = 0; i < output.length; i++)\n\t\t\toutput[i] = 0;\n\t\tfor (var i = 0; i < input.length * 8; i += 8)\n\t\t\toutput[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n\t\treturn output;\n\t}\n\n\t/*\n\t * Convert an array of little-endian words to a string\n\t */\n\tfunction binl2rstr(input) {\n\t\tvar output = \"\";\n\t\tfor (var i = 0; i < input.length * 32; i += 8)\n\t\t\toutput += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n\t\treturn output;\n\t}\n\n\t/*\n\t * Calculate the MD5 of an array of little-endian words, and a bit length.\n\t */\n\tfunction binl_md5(x, len) {\n\t\t/* append padding */\n\t\tx[len >> 5] |= 0x80 << ((len) % 32);\n\t\tx[(((len + 64) >>> 9) << 4) + 14] = len;\n\n\t\tvar a = 1732584193;\n\t\tvar b = -271733879;\n\t\tvar c = -1732584194;\n\t\tvar d = 271733878;\n\n\t\tfor (var i = 0; i < x.length; i += 16) {\n\t\t\tvar olda = a;\n\t\t\tvar oldb = b;\n\t\t\tvar oldc = c;\n\t\t\tvar oldd = d;\n\n\t\t\ta = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);\n\t\t\td = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n\t\t\tc = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n\t\t\tb = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n\t\t\ta = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n\t\t\td = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n\t\t\tc = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n\t\t\tb = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n\t\t\ta = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n\t\t\td = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n\t\t\tc = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n\t\t\tb = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n\t\t\ta = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n\t\t\td = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n\t\t\tc = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n\t\t\tb = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n\t\t\ta = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n\t\t\td = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n\t\t\tc = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n\t\t\tb = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);\n\t\t\ta = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n\t\t\td = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n\t\t\tc = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n\t\t\tb = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n\t\t\ta = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n\t\t\td = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n\t\t\tc = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n\t\t\tb = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n\t\t\ta = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n\t\t\td = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n\t\t\tc = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n\t\t\tb = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n\t\t\ta = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n\t\t\td = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n\t\t\tc = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n\t\t\tb = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n\t\t\ta = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n\t\t\td = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n\t\t\tc = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n\t\t\tb = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n\t\t\ta = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n\t\t\td = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);\n\t\t\tc = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n\t\t\tb = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n\t\t\ta = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n\t\t\td = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n\t\t\tc = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n\t\t\tb = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n\t\t\ta = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);\n\t\t\td = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n\t\t\tc = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n\t\t\tb = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n\t\t\ta = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n\t\t\td = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n\t\t\tc = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n\t\t\tb = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n\t\t\ta = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n\t\t\td = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n\t\t\tc = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n\t\t\tb = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n\t\t\ta = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n\t\t\td = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n\t\t\tc = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n\t\t\tb = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n\t\t\ta = safe_add(a, olda);\n\t\t\tb = safe_add(b, oldb);\n\t\t\tc = safe_add(c, oldc);\n\t\t\td = safe_add(d, oldd);\n\t\t}\n\t\treturn Array(a, b, c, d);\n\t}\n\n\t/*\n\t * These functions implement the four basic operations the algorithm uses.\n\t */\n\tfunction md5_cmn(q, a, b, x, s, t) {\n\t\treturn safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n\t}\n\n\tfunction md5_ff(a, b, c, d, x, s, t) {\n\t\treturn md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n\t}\n\n\tfunction md5_gg(a, b, c, d, x, s, t) {\n\t\treturn md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n\t}\n\n\tfunction md5_hh(a, b, c, d, x, s, t) {\n\t\treturn md5_cmn(b ^ c ^ d, a, b, x, s, t);\n\t}\n\n\tfunction md5_ii(a, b, c, d, x, s, t) {\n\t\treturn md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n\t}\n\n\t/*\n\t * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n\t * to work around bugs in some JS interpreters.\n\t */\n\tfunction safe_add(x, y) {\n\t\tvar lsw = (x & 0xFFFF) + (y & 0xFFFF);\n\t\tvar msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n\t\treturn (msw << 16) | (lsw & 0xFFFF);\n\t}\n\n\t/*\n\t * Bitwise rotate a 32-bit number to the left.\n\t */\n\tfunction bit_rol(num, cnt) {\n\t\treturn (num << cnt) | (num >>> (32 - cnt));\n\t}\n\n\treturn hex_md5(instring);\n}","/*\n * @Author: Cphayim \n * @Date: 2017-04-15 19:53:57 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-04-30 23:02:05\n */\nangular.module('Chufaba', ['ionic', 'ngCordova', 'myRouter'])\n    .run(['$ionicPlatform', function ($ionicPlatform) {\n        $ionicPlatform.ready(() => {\n            // 隐藏启动界面\n            setTimeout(() => {\n                // 延迟1.5秒防止闪屏\n                navigator.splashscreen && navigator.splashscreen.hide();\n            }, 1500);\n            // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard\n            // for form inputs)\n            if (window.cordova && window.cordova.plugins && window.cordova.plugins.Keyboard) {\n                cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\n                cordova.plugins.Keyboard.disableScroll(true);\n            }\n            if (window.StatusBar) {\n                // org.apache.cordova.statusbar required\n                StatusBar.styleLightContent();\n                StatusBar.backgroundColorByHexString('#21272f');\n            }\n        });\n    }]).config(['$ionicConfigProvider',\n        ($ionicConfigProvider) => {\n            // iOS/Android 平台设置\n            $ionicConfigProvider.platform.ios.tabs.style('standard'); /*标准的    striped and standard. */\n            $ionicConfigProvider.platform.ios.tabs.position('bottom'); /*ios 平台tabs的位置*/\n            $ionicConfigProvider.platform.android.tabs.style('standard');\n            $ionicConfigProvider.platform.android.tabs.position('bottom'); /*android 平台tabs的位置*/\n\n            $ionicConfigProvider.platform.ios.navBar.alignTitle('center'); /*标题的位置*/\n            $ionicConfigProvider.platform.android.navBar.alignTitle('left');\n\n            /*返回文字  和图标*/\n            //$ionicConfigProvider.platform.ios.backButton.previousTitleText(' ').icon('ion-ios-arrow-thin-left');\n            //$ionicConfigProvider.platform.android.backButton.previousTitleText(' ').icon('ion-android-arrow-back');\n\n\n            $ionicConfigProvider.platform.ios.views.transition('ios'); /*切换效果*/\n            $ionicConfigProvider.platform.android.views.transition('android');\n            $ionicConfigProvider.backButton.previousTitleText(false); /*去掉返回  文字*/\n            $ionicConfigProvider.backButton.text(' ');\n        }\n    ]).constant('$ionicLoadingConfig', {\n        template: `<ion-spinner icon=\"lines\" class=\"spinner-balanced\"></ion-spinner><p>正在加载</p>`\n    });\n","/*\n * 公共组件类文件\n * @Author: Cphayim \n * @Date: 2017-05-01 21:19:26 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-01 22:15:50\n */\n\n/**\n * 刷新(下拉刷新/上拉加载)组件类\n * 实例化一个刷新组件对象\n * @class RefreshComponent\n */\nclass RefreshComponent {\n    /**\n     * 构造器参数说明\n     * 传入的对象将被解构赋值 (对象属性->变量)\n     * @param {Object} {\n     *        {Object}   scope         组件实例所在作用域的 $scope 对象\n     *        {Sring}    path          http 请求路径，不包括主机名，默认值 '/product'\n     *        {Number}   current       当前列表索引，默认值 0\n     *        {Number}   offset        每次请求加载的数量(列表项数)，默认值 10\n     *        {Boolean}  hasInfinite   是否启用上拉加载，默认值 true\n     *        {Object}   data          数据容器对象，用于存放网络请求获得的数据，并绑定到视图层。可预创建后传入, 默认值 {}\n     *        {Function} reset         data 数据容器重置规则，将在 refresh 中回调，之后执行 loadData (例:清空列表->发送请求)\n     *        {Function} loadData      http 请求函数，将在 refresh/infinite 中回调\n     *    } \n     */\n    constructor({\n        scope = null,\n        path = '/product',\n        current = 0,\n        offset = 10,\n        hasInfinite = true,\n        data = {},\n        reset = function () {},\n        loadData = function () {}\n    }) {\n        this.scope = scope;\n        this.path = path;\n        this.current = current;\n        this.offset = offset;\n        this.hasInfinite = hasInfinite; // 是否开启上拉加载功能\n        this.showInfinite = !!this.hasInfinite; // 上拉加载开关状态\n        this.data = data; // 数据容器对象，绑定到视图层\n        this.reset = reset;\n        this.loadData = loadData;\n    }\n    // 下拉刷新方法\n    refresh() {\n        // 重置上拉加载状态(未开启功能则跳过)\n        this.hasInfinite && (this.showInfinite = true);\n        // 重置索引\n        this.current = 0;\n        // 重置数据容器\n        this.reset();\n        // 发送 http 请求\n        setTimeout(_ => {\n            this.loadData();\n            this.scope.$broadcast('scroll.refreshComplete'); // 广播刷新完成\n        }, 1000);\n    }\n    // 上拉加载方法\n    infinite() {\n        // 发送 http 请求\n        setTimeout(_ => {\n            this.loadData();\n        }, 500);\n    }\n}\n","/*\n * 前端全局配置文件\n * @Author: Cphayim \n * @Date: 2017-04-23 19:14:18 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-09 18:12:43\n */\n\n/**\n * 配置类\n * 用于实例化一个包含全局配置信息的对象\n * @param {Object} {\n *         host = '127.0.0.1', // 主机名，默认本地\n *         port = '3000', // 端口号，默认3000\n *         ssl = false, // 传输协议是否包含安全套接层\n *         activityPoster = '' // 版本活动信息\n *     } \n */\nclass Config {\n    constructor({ // 解构赋值\n        host = '127.0.0.1',\n        port = '3000',\n        ssl = false,\n        activityPoster = '/img/default.jpg'\n    }) {\n        this.host = host;\n        this.port = port;\n        this.protocol = ssl ? 'https' : 'http';\n        this.serverUrl = `${this.protocol}://${this.host}:${this.port}`;\n        this.activityPoster = activityPoster;\n    }\n}\nconst activityPoster ={\n    title:'享受得起的定制旅行',\n    image:`http://img.chufaba.me/events/e3d11e3218c1a9102a0848ff54ad4a17n.jpg`,\n    url:'http://chufaba.me/activities/23'\n};\n// 开发环境\nconst config = new Config({\n    host:'192.168.1.108',\n    activityPoster\n});\n// 生产环境\n// const config = new Config({\n//     host: 'cfb.cphayim.me',\n//     port: '3377',\n//     activityPoster\n// });\n// console.log(config);\n","angular.module('Chufaba').directive('hideTabs', function($rootScope) {\n    return {\n        restrict: 'A',\n        link: function(scope, element, attributes) {\n\n            scope.$on('$ionicView.beforeEnter', function() {\n\n                scope.$watch(attributes.hideTabs, function(value){\n                    $rootScope.hideTabs = 'tabs-item-hide';\n                });\n            });\n\n            scope.$on('$ionicView.beforeLeave', function() {\n                scope.$watch(attributes.hideTabs, function(value){\n                    $rootScope.hideTabs = 'tabs-item-hide';\n                });\n                scope.$watch('$destroy',function(){\n                    $rootScope.hideTabs = false;\n                })\n\n            });\n        }\n    };\n})","/*\n * 自定义过滤器\n * @Author: Cphayim \n * @Date: 2017-04-24 15:25:00 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-04-28 03:36:35\n */\n\nangular.module('Chufaba').filter('imageSize',()=>{\n    // 图片大小处理\n    return (imageUrl)=>{\n        return imageUrl.replace('!320','!375');\n    }\n}).filter('avatar',()=>{\n    // 处理头像地址\n    return (avatarUrl)=>{\n        let reg = /(jpg|png)$/;\n        // 没有头像或头像 url 未通过正则验证，使用默认头像\n        if(!avatarUrl || !reg.test(avatarUrl)){\n            avatarUrl = 'http://cfbassets.b0.upaiyun.com/assets/v2/head.png';\n        }\n        return avatarUrl;\n    }\n}).filter('pointer',()=>{\n    // 处理地点\n    return (str)=>{\n        // 正则替换\n        return `— · ${str.replace(/(、)/g,' · ')} · —`;\n    }\n}).filter('date',()=>{\n    // 处理时间，带星期\n    return (dateStr,index)=>{\n        const date = new Date(dateStr);\n        date.setDate(date.getDate()+index);\n        const week = date.getDay();\n        let weekStr = '';\n        switch(week){\n            case 0: weekStr = '周日';break;\n            case 1: weekStr = '周一';break;\n            case 2: weekStr = '周二';break;\n            case 3: weekStr = '周三';break;\n            case 4: weekStr = '周四';break;\n            case 5: weekStr = '周五';break;\n            case 6: weekStr = '周六';break;\n            default: '不详';\n        }\n        return `${date.getFullYear()}/${date.getMonth()+1}/${date.getDate()}，${weekStr}`;\n    }\n});","/*\n * 前端路由模块\n * @Author: Cphayim \n * @Date: 2017-04-15 19:52:03 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-02 01:34:20\n */\n\n'use strict';\nangular.module('myRouter', ['ionic']).config(['$stateProvider', '$urlRouterProvider',\n    ($stateProvider, $urlRouterProvider) => {\n        $stateProvider.state('guide', {\n            url: '/guide',\n            templateUrl: 'views/guide/guide.html',\n            controller: 'guideController'\n        }).state('tab', {\n            url: '/tab',\n            abstract: true,\n            templateUrl: 'views/tabs.html',\n            controller:'TabsController'\n        }).state('tab.home', {\n            // 主页\n            url: '/home',\n            views: {\n                'tab-home': {\n                    templateUrl: 'views/tabs/tab-home.html',\n                    controller: 'HomeController'\n                }\n            }\n        }).state('tab.good-detail', {\n            // 精选详情\n            url: '/good-detail:id',\n            views: {\n                'tab-home': {\n                    templateUrl: 'views/detail/good.html',\n                    controller: 'GoodDetailController'\n                }\n            }\n        }).state('tab.home-web', {\n            // home webView\n            url: '/web:url:title',\n            views: {\n                'tab-home': {\n                    templateUrl: 'views/public/web.html',\n                    controller: 'WebController'\n                }\n            }\n        }).state('tab.destination', {\n            // 目的地\n            url: '/destination',\n            views: {\n                'tab-destination': {\n                    templateUrl: 'views/tabs/tab-destination.html',\n                    controller: 'DestinationController'\n                }\n            }\n        }).state('tab.destination-web', {\n            // destination webView\n            url: '/web:url:title',\n            views: {\n                'tab-destination': {\n                    templateUrl: 'views/public/web.html',\n                    controller: 'WebController'\n                }\n            }\n        }).state('tab.buy', {\n            // 购买\n            url: '/buy',\n            views: {\n                'tab-buy': {\n                    templateUrl: 'views/tabs/tab-buy.html',\n                    controller: 'BuyController'\n                }\n            }\n        }).state('tab.buy-web', {\n            // buy webView\n            url: '/web:url:title',\n            views: {\n                'tab-buy': {\n                    templateUrl: 'views/public/web.html',\n                    controller: 'WebController'\n                }\n            }\n        }).state('tab.account', {\n            // 我的\n            url: '/me',\n            views: {\n                'tab-me': {\n                    templateUrl: 'views/tabs/tab-me.html',\n                    controller: 'MeController'\n                }\n            }\n        }).state('tab.me-web', {\n            // me webView\n            url: '/web:url:title',\n            views: {\n                'tab-me': {\n                    templateUrl: 'views/public/web.html',\n                    controller: 'WebController'\n                }\n            }\n        });\n        // if none of the above states are matched, use this as the fallback\n        $urlRouterProvider.otherwise(localStorage['guided'] ? '/tab/home' : '/guide');\n    }\n])\n","angular.module('Chufaba').controller('TabsController', ['$scope', '$rootScope', '$ionicTabsDelegate', '$ionicModal', '$http', '$cordovaToast',\n    ($scope, $rootScope, $ionicTabsDelegate, $ionicModal, $http, $cordovaToast) => {\n        // 视图配置项\n        /* {Boolean}\n         * tab: 控制是否显示底部 tab 栏\n         * navStyle: 是否使用透明背景的导航栏 \n         */\n        const viewConfig = {\n            // 首页\n            'tab.home': {\n                tab: true,\n                navStyle: false\n            },\n            'tab.good-detail': {\n                tab: false,\n                navStyle: true\n            },\n            'tab.home-web': {\n                tab: false,\n                navStyle: false\n            },\n            // 目的地\n            'tab.destination': {\n                tab: true,\n                navStyle: false\n            },\n            'tab.destination-web': {\n                tab: false,\n                navStyle: false\n            },\n            // 购买\n            'tab.buy': {\n                tab: true,\n                navStyle: false\n            },\n            'tab.buy-web': {\n                tab: false,\n                navStyle: false\n            },\n            // 我的\n            'tab.me': {\n                tab: true,\n                navStyle: false\n            },\n            'tab.me-web': {\n                tab: false,\n                navStyle: false\n            }\n        }\n        // 监听视图加载完毕准备进入时\n        $rootScope.$on('$ionicView.beforeEnter', function (e, data) {\n            // console.log(data.stateName+'准备进入');\n            viewConfig[data.stateName] && $ionicTabsDelegate.showBar(viewConfig[data.stateName].tab);\n            const $bar = $('.bar-stable.bar.bar-header');\n            viewConfig[data.stateName] && viewConfig[data.stateName].navStyle ?\n                $bar.css('background', 'none') : $bar.css('background', '#21272f');\n        });\n        $rootScope.$on('$ionicView.beforeLeave', function (e, data) {\n            // console.log(data.stateName+'准备离开');\n        });\n\n        // 登录模态框\n        $ionicModal.fromTemplateUrl('login.html', {\n            scope: $scope\n        }).then(function (modal) {\n            // 将登录框绑定到全局\n            $rootScope.loginModal = modal;\n            $rootScope.$on('showLoginModal', (e) => {\n                $scope.loginModal.show();\n            });\n            $rootScope.$on('hideLoginModal', (e, isBroadcast) => {\n                $scope.loginModal.hide();\n                // 检查登录状态\n                isBroadcast && loginCheck(); \n            });\n        });\n\n        loginCheck();\n        // 登录状态检查事件\n        $rootScope.$on('loginCheck', (e) => {\n            loginCheck();\n        });\n        /**\n         * 检查登录状态，更新全局用户信息\n         */\n        function loginCheck() {\n            // 本地存储读取用户信息\n            $rootScope.userInfo = localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null;\n            // 登录状态确认\n            $rootScope.isLogin = $rootScope.userInfo?accessTokenCheck():false;\n        }\n        /**\n         * accessToken 校验\n         */\n        function accessTokenCheck() {\n            // 本地不存在 access_token\n            if (!$rootScope.userInfo.access_token || !$rootScope.userInfo.phone) {\n                $rootScope.isLogin = false;\n                return false;\n            }\n            const data = {\n                phone: $rootScope.userInfo.phone,\n                access_token: $rootScope.userInfo.access_token\n            }\n\n            $http.post(`${config.serverUrl}/user/token`, data).then(resData => {\n                if (resData.data.code === 1000) {\n                    $rootScope.isLogin = true;\n                } else {\n                    $rootScope.isLogin = false;\n                    $cordovaToast.showShortBottom('鉴权失败，请重新登录');\n                }\n            }).catch(resData => {\n                $rootScope.isLogin = false;\n                $cordovaToast.showShortBottom('连接失败，请检查网络');\n            });\n        }\n    }\n]);\n","/*\n * 精选详情页\n * @Author: Cphayim \n * @Date: 2017-04-24 21:29:47 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-09 01:10:59\n */\nangular.module('Chufaba').controller('GoodDetailController', ['$scope', '$stateParams', '$ionicLoading', '$http',\n    ($scope, $stateParams, $ionicLoading, $http) => {\n        // 显示加载框\n        // $ionicLoading.show();\n        // 滚动区域下拉顶端图片放大效果\n        const innerHeight = window.innerHeight;\n        $scope.navOpacity = 0;\n        $scope.topImageSize = function () {\n            const transform = document.querySelector('#good-detail .scroll').style.transform;\n            const translateY = Number(transform.split(', ')[1].replace('px', ''));\n            // 当滚动容器到达顶部并继续向上滚动时放大顶部的背景图片\n            if (translateY >= 0) {\n                $('.back-image').css('transform', `scale(${translateY/300+1})`);\n            }\n            const absTranslateY = Math.abs(translateY);\n            let alpha = 0;\n            // 当屏幕滚动距离超过30%屏幕高度时调整导航的透明度\n            if (absTranslateY > innerHeight * 0.3) {\n                alpha = ((absTranslateY - innerHeight * 0.3) / 100).toFixed(2);\n            } else {\n                alpha = 0;\n            }\n            $scope.navOpacity != alpha && setAlpha(alpha);\n        }\n        /**\n         * 设置导航栏透明度\n         * @param {Number} alpha \n         */\n        function setAlpha(alpha) {\n            $('.bar-stable.bar.bar-header').css('background', `rgba(33,39,47,${alpha})`);\n            $scope.navOpacity = alpha\n        }\n        /**\n         * 详情视图类\n         * @class DetailView\n         */\n        class DetailView {\n            /**\n             * 构造器参数说明\n             * 传入的对象将被解构赋值\n             * @param {Object} {\n             *        {Sring}    path          http 请求路径，不包括主机名，默认值 '/product'\n             *        {Number}   id            当前请求详细视图的唯一 id (数据库辅键)\n             *        {Function} loadData      http 请求函数，将在 refresh/infinite 中回调\n             *    } \n             */\n            constructor({\n                path = '/product',\n                id = 0,\n                loadData = function () {}\n            }) {\n                this.path = path;\n                this.id = id;\n                this.loadData = loadData;\n            }\n        }\n\n        $scope.detail = new DetailView({\n            path: '/product/good-detail',\n            id: $stateParams.id,\n            loadData() {\n                $http({\n                    method: 'GET',\n                    url: config.serverUrl + this.path,\n                    params: {\n                        id: this.id,\n                    }\n                }).then(resData => {\n                    if (resData.data.code) {\n                        // 将数据挂载到数据容器中\n                        this.data = resData.data.detailData;\n                    } else {\n                        $cordovaToast.showShortCenter('数据请求失败');\n                    }\n                    setTimeout(() => {\n                        $ionicLoading.hide(); // 隐藏加载框  \n                    }, 1000);\n                }).catch(resData => {\n                    $cordovaToast.showShortCenter('数据请求失败，请检查网络');\n                    setTimeout(() => {\n                        $ionicLoading.hide(); // 隐藏加载框  \n                    }, 1000);\n                });\n            }\n        });\n        // 视图模板加载完毕时显示等待框\n        $scope.$on('$ionicView.loaded', function () {\n            $ionicLoading.show();\n        });\n        // 视图进入时请求数据\n        $scope.$on('$ionicView.afterEnter', function () {\n            $scope.detail.loadData();\n        });\n    }\n]);\n","/*\n * @Author: Cphayim \n * @Date: 2017-04-15 19:51:57 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-04-20 22:58:36\n */\n\n'use strict';\nangular.module('Chufaba').controller('guideController', ['$scope', '$ionicPlatform', '$state', '$timeout',\n    ($scope, $ionicPlatform, $state, $timeout) => {\n        $scope.index = 0;\n        $scope.slideStatus = [true, false, false];\n        $scope.delay = true;\n        $scope.changeBC = ($index) => {\n            $scope.index = $index;\n            $scope.delay = false;\n            $scope.slideStatus[$index] = true;\n        }\n        $scope.go = () => {\n            // $state.go('tab.dash');\n            $scope.out = true;\n            $timeout(() => {\n                   $state.go('tab.home');\n            }, 1000);\n        }\n        // 设置 已首次打开过 的 localStorage\n        // localStorage['guided'] = true;\n    }\n]);\n","/*\n * 登录/注册\n * @Author: Cphayim \n * @Date: 2017-04-30 22:12:01 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-09 18:16:24\n */\nangular.module('Chufaba').controller('loginModelController', ['$scope',\n    ($scope) => {\n        // 状态记录\n        $scope.isRegister = false;\n        $scope.toLogin = _ => {\n            $scope.isRegister = false;\n        }\n        $scope.toRegister = _ => {\n            $scope.isRegister = true;\n        }\n    }\n]).controller('formController', ['$scope', '$http', '$cordovaToast', '$ionicLoading', '$interval',\n    ($scope, $http, $cordovaToast, $ionicLoading, $interval) => {\n        // 请求的路由\n        const routerName = '/user';\n        // 登录数据对象 $scope.loginData = {phone, password}\n        // 注册数据对象 $scope.registerData = {phone,username,password}\n\n        // 是否禁用验证码按钮\n        $scope.vCodeBtnDis = false;\n        $scope.vCodeTime = 60;\n        $scope.timer = null; // 定时器\n        // 获取验证码\n        $scope.getVCode = e => {\n            // 禁用按钮\n            $scope.vCodeBtnDis = true;\n            // 开启倒计时\n            openCountdown();\n            // 发送请求\n            $http.post(`${config.serverUrl + routerName}/sms`, {\n                phone: $scope.registerData.phone,\n                r: true\n            }).then(resData => {\n                if (resData.data.code === 1000) {\n                    $cordovaToast.showShortBottom('验证码发送成功');\n                } else if (resData.data.code === 3011) {\n                    closeCountdown();\n                    $cordovaToast.showShortBottom('该手机号码已被注册');\n                } else {\n                    closeCountdown();\n                    $cordovaToast.showShortBottom('验证码发送失败');\n                }\n            }).catch(resData => {\n                closeCountdown();\n                $cordovaToast.showShortBottom('连接失败，请检查网络');\n            });\n        }\n        // 开启一分钟定时器\n        function openCountdown() {\n            let i = 60;\n            $scope.vCodeTime = --i;\n            $scope.timer = $interval(_ => {\n                $scope.vCodeTime = --i;\n                if (!i) {\n                    // 关闭定时器恢复按钮\n                    closeCountdown()\n                }\n            }, 1000);\n        }\n        // 关闭定时器\n        function closeCountdown() {\n            $interval.cancel($scope.timer);\n            $scope.vCodeBtnDis = false;\n            $scope.vCodeTime = 60;\n        }\n\n        // 登录表单提交\n        $scope.loginSubmit = e => {\n            e.preventDefault();\n            if ($scope.loginForm.$invalid) {\n                // 表单验证失败，拦截请求\n                return;\n            }\n            // 显示等待框\n            $ionicLoading.show({\n                template: `<ion-spinner icon=\"lines\" class=\"spinner-balanced\"></ion-spinner><p>正在登录</p>`\n            });\n            // 拷贝对象\n            const data = JSON.parse(JSON.stringify($scope.loginData));\n            // MD5\n            data.password = MD5(data.password);\n            setTimeout(_ => {\n                // 发送登录请求\n                $http.post(`${config.serverUrl+routerName}/login`, data)\n                    .then(resData => {\n                        $ionicLoading.hide();\n                        loginResult(resData.data)\n                    })\n                    .catch(resData => {\n                        $ionicLoading.hide();\n                        $cordovaToast.showShortBottom('连接失败，请检查网络')\n                    });\n            }, 500);\n        }\n\n        // 注册表单提交\n        $scope.registerSubmit = e => {\n            e.preventDefault();\n            if ($scope.registerForm.$invalid || $scope.confirm != $scope.registerData.password) {\n                // 表单验证失败，拦截请求\n                return;\n            }\n            // 显示等待框\n            $ionicLoading.show({\n                template: `<ion-spinner icon=\"lines\" class=\"spinner-balanced\"></ion-spinner><p>正在注册</p>`\n            });\n            const data = JSON.parse(JSON.stringify($scope.registerData));\n            data.password = MD5(data.password);\n\n            setTimeout(_ => {\n                // 发送注册请求\n                $http.post(`${config.serverUrl+routerName}/register`, data)\n                    .then(resData => {\n                        $ionicLoading.hide();\n                        if (resData.data.code == 3011) {\n                            $cordovaToast.showShortBottom('该号码已被注册');\n                        } else if (resData.data.code == 3005) {\n                            $cordovaToast.showShortBottom('短信验证码错误');\n                        } else {\n                            // 走登录通道\n                            loginResult(resData.data)\n                        }\n                    })\n                    .catch(resData => {\n                        $ionicLoading.hide();\n                        $cordovaToast.showShortBottom('连接失败，请检查网络')\n                    });\n            }, 500);\n        }\n        /**\n         * 登录结果处理 (登录/注册(自动登录) ajax 请求成功后回调)\n         * @param {Object} data 响应数据\n         */\n        function loginResult(data) {\n            if (data.code === 1000) {\n                // 登录成功，本地存储用户信息\n                localStorage.setItem('userInfo', JSON.stringify(data.userInfo));\n                // 向父级发射事件，关闭登录窗口，并广播更新 用户 视图\n                $scope.$emit('hideLoginModal', true);\n                $cordovaToast.showShortBottom('登录成功');\n            } else if (/^302\\d{1}$/.test(data.code)) {\n                // 登录失败\n                $cordovaToast.showShortBottom('账号或密码错误，登录失败');\n            } else if (/^200\\d{1}$/.test(data.code)) {\n                // 服务端数据库查询/写入失败\n                $cordovaToast.showShortBottom('服务器错误，登录失败');\n            } else {\n                console.log(data.msg);\n                $cordovaToast.showShortBottom('未知错误，登录失败');\n            }\n        }\n    }\n]);\n","angular.module('Chufaba').controller('WebController', ['$scope', '$stateParams', '$sce', '$ionicLoading',\n    ($scope, $stateParams, $sce, $ionicLoading) => {\n        // 外部 url 需要 使用 $sce 设置代理\n        $scope.title = $stateParams.title;\n\n        document.getElementById('iframe').onload = function () {\n            $ionicLoading.hide();\n        }\n        $scope.$on('$ionicView.loaded', function () {\n            $ionicLoading.show();\n            setTimeout(function () {\n                $ionicLoading.hide();\n            }, 3000);\n        });\n        $scope.$on('$ionicView.afterEnter', function () {\n            $scope.targetUrl = $sce.trustAsResourceUrl($stateParams.url);\n        });\n    }\n]);\n","/*\n * 购买\n * @Author: Cphayim \n * @Date: 2017-05-01 01:22:22 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-02 21:23:47\n */\n\nangular.module('Chufaba').controller('BuyController', ['$scope', '$http','$cordovaToast',\n    ($scope, $http,$cordovaToast) => {\n        $scope.data = [1,2,3,4];\n        // 从测量元素获得宽度值设置到 sprite 的高度\n        $scope.spriteHeight = $('.market .measure .sprite').width()+'px'; \n        // 实例化一个刷新组件\n        $scope.market = new RefreshComponent({\n            scope: $scope,\n            path: '/product/market',\n            offset: 0,\n            hasInfinite: true,\n            data:{},\n            reset(){\n                this.data = {};\n            },\n            loadData() {\n                $http({\n                    method: 'GET',\n                    url: config.serverUrl + this.path,\n                }).then(resData => {\n                    if (resData.data.code == 'ok') {\n                        console.log(resData.data);\n                        this.data = resData.data.marketData;\n                        console.log($scope.market.data);\n                    } else {\n                        $cordovaToast.showShortCenter('数据请求失败，请尝试下拉刷新');\n                    }\n                    this.showInfinite = false;\n                    $scope.$broadcast('scroll.infiniteScrollComplete'); // 向子组件发送广播: 加载完成\n                }).catch(resData => {\n                    $cordovaToast.showShortCenter('数据请求失败，请检查网络');\n                });\n            }\n        });\n        $scope.$on('$ionicView.afterEnter', function () {\n            \n        });\n    }\n]);\n","/*\n * 目的地\n * @Author: Cphayim \n * @Date: 2017-05-01 01:22:22 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-01 22:57:01\n */\n\nangular.module('Chufaba').controller('DestinationController', ['$scope',\n    ($scope) => {\n        $scope.data = [1,2,3,4]\n    }\n]);\n","/*\n * @Author: Cphayim \n * @Date: 2017-04-18 21:33:38 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-02 01:38:11\n */\n// Home 界面控制器\nangular.module('Chufaba').controller('HomeController', ['$scope', '$ionicSlideBoxDelegate', '$cordovaToast', '$http', '$state',\n    ($scope, $ionicSlideBoxDelegate, $cordovaToast, $http, $state) => {\n        // HomeTab 类\n        class HomeTab {\n            constructor(defaultIndex = 0) {\n                this.activeItem = defaultIndex;\n            }\n            setActive(index) {\n                // 设置 tab\n                this.activeItem = index;\n                $ionicSlideBoxDelegate.slide(this.activeItem);\n            }\n        }\n        $scope.homeTab = new HomeTab(1); // 绑定homeTab实例到作用域，默认激活第二个 tab\n\n        // component.js\n        // 实例化刷新组件添加到作用域上\n        // 精选列表的刷新组件\n        $scope.good = new RefreshComponent({\n            scope: $scope,\n            path: '/product/good-list',\n            data: {\n                items: []\n            },\n            reset() {\n                this.data.items.length = 0;\n            },\n            loadData() {\n                $http({\n                    method: 'GET',\n                    url: config.serverUrl + this.path,\n                    params: {\n                        current: this.current,\n                        offset: this.offset\n                    }\n                }).then(resData => {\n                    if (resData.data.code == 'ok' && resData.data.items.length > 0) {\n                        // 将新数据合并到数据容器中\n                        this.data.items = this.data.items.concat(resData.data.items);\n                        this.current += this.offset;\n                    } else if (resData.data.code == 'ok' && resData.data.items.length === 0) {\n                        this.showInfinite = false; // 关闭上拉加载\n                        $cordovaToast.showShortCenter('没有更多数据了!');\n                    } else {\n                        $cordovaToast.showShortCenter('数据请求失败，请尝试下拉刷新');\n                    }\n                    $scope.$broadcast('scroll.infiniteScrollComplete'); // 向子组件发送广播: 加载完成\n                }).catch(resData => {\n                    $cordovaToast.showShortCenter('数据请求失败，请检查网络');\n                });\n            }\n        });\n        $scope.good.data.banner = {\n            // 将配置文件中的主题 banner 挂载到数据容器\n            title: config.activityPoster.title,\n            image: config.activityPoster.image,\n            url: config.activityPoster.url\n        };\n    }\n]).service('HomeService', []);\n","/*\n * 我的\n * @Author: Cphayim \n * @Date: 2017-05-01 01:22:22 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-07 20:32:35\n */\n\nangular.module('Chufaba').controller('MeController', ['$scope',\n    ($scope) => {\n        // 打开登录窗口\n        $scope.openLogin = _ => {\n            $scope.$emit('showLoginModal');\n        }\n        // 退出登录\n        $scope.logout = _ => {\n            const flag = confirm('确认退出登录吗?');\n            if (flag) {\n                // 删除本地存储\n                localStorage.removeItem('userInfo');\n                // 触发检查登录事件\n                $scope.$emit('loginCheck');\n            }\n        }\n    }\n]);\n"]}